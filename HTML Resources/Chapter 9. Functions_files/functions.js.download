var func = {
	prepare : function() {
		act.add([
new act.Anim('ch9isEven', 'Input',
	{
		'1'      : function(){noclass(); hide(); execute('1'); schedNext('2');},
		'2'      : function(){noclass(); execute('2'); schedNext('Number');},
		'3'      : function(){noclass(); execute('3'); schedNext('6');},
		'CP'     : function(){noclass(); execute('CP'); schedNext('Result');},
		'4'      : function(){noclass(); execute('4'); schedNext('Div');},
		'5'      : function(){noclass(); hide(); execute('5'); schedNext('End');},
		'Number' : function(){assign('Number',vars.number); schedNext('3');},
		'Result' : function(){assign('Result',vars.result); schedNext('4');},

		'6'       : function(){noclass(); execute('6'); schedNext('Value');},
		'7'       : function(){noclass(); execute('7'); schedNext('Mod2');},
		'8'       : function(){noclass(); execute('8'); schedNext('Return');},
		'10'      : function(){noclass(); execute('10'); schedNext('11');},
		'11'      : function(){noclass(); execute('11'); schedNext('Return');},
		'13'      : function(){noclass(); execute('13'); schedNext('CP');},
		'Value'   : function(){assign('Value',vars.number); schedNext('7');},
		'Mod2'    : function(){noclass(); var n=vars.number; vars.result=(n%2==0); assign('Mod2',n%2); schedNext(vars.result?'8':'10');},
		'Return'  : function(){assign('Return',vars.result); schedNext('13');},

		'Input'   : function(){act.clear(idents); hide(); vars.number=act.randInt(-100,100); enter('Input','Enter',vars.number); schedNext('Button');},
		'Button'  : function(){noclass(); hide(); click('Button','Click'); schedNext('1');},
		'Div'     : function(){display('Div','Display',vars.number+' is even: '+vars.result); schedNext('5');},
		'Enter'   : null,
		'Click'   : null,
		'Display' : null,
		'End'     : function(){noclass(); hide(); reset();}
	},
	{
		number : 0,
		result : 0
	}),
new act.Anim('ch9isShort', 'Input',
	{
		'1'      : function(){noclass(); hide(); execute('1'); schedNext('2');},
		'2'      : function(){noclass(); execute('2'); schedNext('Number');},
		'3'      : function(){noclass(); execute('3'); schedNext('6');},
		'CP'     : function(){noclass(); execute('CP'); schedNext('Result');},
		'4'      : function(){noclass(); execute('4'); schedNext('Div');},
		'5'      : function(){noclass(); hide(); execute('5'); schedNext('End');},
		'Number' : function(){assign('Number',vars.number); schedNext('3');},
		'Result' : function(){assign('Result',vars.result); schedNext('4');},

		'6'       : function(){noclass(); execute('6'); schedNext('Value');},
		'7'       : function(){noclass(); execute('7'); vars.result=(vars.number%2==0); schedNext('Mod2');},
		'8'       : function(){noclass(); execute('8'); schedNext('CP');},
		'Value'   : function(){assign('Value',vars.number); schedNext('7');},
		'Mod2'    : function(){assign('Mod2',vars.number%2); schedNext('Return');},
		'Return'  : function(){noclass(); assign('Return',vars.result); schedNext('8');},

		'Input'    : function(){act.clear(idents); hide(); vars.number=act.randInt(-100,100); enter('Input','Enter',vars.number); schedNext('Button');},
		'Button'  : function(){noclass(); hide(); click('Button','Click'); schedNext('1');},
		'Div'     : function(){display('Div','Display',vars.number+' is even: '+vars.result); schedNext('5');},
		'Enter'   : null,
		'Click'   : null,
		'Display' : null,
		'End'     : function(){noclass(); hide(); reset();}
	},
	{
		number : 0,
		result : 0
	}),
new act.Anim('ch9triangle', 'Button',
	{
		'1'     : function(){noclass(); hide(); execute('1'); schedNext('2');},
		'2'     : function(){noclass(); execute('2'); schedNext('5');},
		'CP'    : function(){noclass(); execute('CP'); schedNext('R');},
		'3'     : function(){noclass(); execute('3'); schedNext('Div');},
		'4'     : function(){noclass(); hide(); execute('4'); schedNext('End');},
		'R'     : function(){assign('R',vars.area); schedNext('3');},


		'5'     : function(){noclass(); execute('5'); schedNext('A');},
		'6'     : function(){noclass(); execute('6'); vars.s=(vars.a+vars.b+vars.c)/2; schedNext('S');},
		'7'     : function(){noclass(); execute('7'); vars.area=parseFloat(Math.sqrt(vars.s*(vars.s-vars.a)*(vars.s-vars.b)*(vars.s-vars.c)).toFixed(1)); schedNext('SminA');},
		'8'     : function(){noclass(); execute('8'); schedNext('9');},
		'9'     : function(){noclass(); execute('9'); schedNext('CP');},

		'A'     : function(){assign('A',vars.a); assign('B',vars.b); assign('C',vars.c); schedNext('6');},
		'B'     : null,
		'C'     : null,
		'S'     : function(){assign('S',vars.s); schedNext('7');},
		'SminA' : function(){assign('SminA',vars.s-vars.a); schedNext('SminB');},
		'SminB' : function(){assign('SminB',vars.s-vars.b); schedNext('SminC');},
		'SminC' : function(){assign('SminC',vars.s-vars.c); schedNext('Area');},
		'Area'  : function(){assign('Area',vars.area); schedNext('8');},

		'Button'  : function(){act.clear(idents); hide(); click('Button','Click'); schedNext('1');},
		'Div'     : function(){display('Div','Display',vars.area); schedNext('4');},
		'Click'   : null,
		'Display' : null,
		'End'     : function(){noclass(); hide(); reset();}
	},
	{
		a : 4,
		b : 2,
		c : 5,
		s : 0,
		area : 0
	}),
new act.Anim('ch9pyramid', 'Button',
	{
		'1'       : function(){noclass(); hide(); execute('1'); schedNext('2');},
		'2'       : function(){noclass(); execute('2'); schedNext('5');},
		'CPPSA'   : function(){noclass(); execute('CPPSA'); schedNext('PA');},
		'3'       : function(){noclass(); execute('3'); schedNext('Div');},
		'4'       : function(){noclass(); hide(); execute('4'); schedNext('End');},
		'PA'      : function(){assign('PA',vars.Area); schedNext('3');},

		'5'       : function(){noclass(); execute('5'); schedNext('Base');},
		'6'       : function(){noclass(); execute('6'); vars.edge=Math.sqrt(vars.base*vars.base/2+vars.height*vars.height); schedNext('Edge');},
		'7'       : function(){noclass(); execute('7'); schedNext('11');},
		'CPTA'    : function(){noclass(); execute('CPTA'); schedNext('TriArea');},
		'8'       : function(){noclass(); execute('8'); vars.Area=4*vars.triArea; schedNext('PyramidArea');},
		'9'       : function(){noclass(); execute('9'); schedNext('10');},
		'10'      : function(){noclass(); execute('10'); schedNext('CPPSA');},
		'Base'    : function(){assign('Base',vars.base); assign('Height',vars.height); schedNext('6');},
		'Height'  : null,
		'Edge'    : function(){assign('Edge',vars.edge); schedNext('7');},
		'TriArea' : function(){assign('TriArea',vars.triArea); schedNext('8');},
		'PyramidArea' : function(){assign('PyramidArea',vars.Area); schedNext('9');},

		'11'    : function(){noclass(); execute('11'); vars.a=vars.base; vars.b=vars.c=vars.edge; schedNext('A');},
		'12'    : function(){noclass(); execute('12'); vars.s=(vars.a+vars.b+vars.c)/2; schedNext('S');},
		'13'    : function(){noclass(); execute('13'); vars.triArea=parseFloat(Math.sqrt(vars.s*(vars.s-vars.a)*(vars.s-vars.b)*(vars.s-vars.c)).toFixed(1)); schedNext('SminA');},
		'14'    : function(){noclass(); execute('14'); schedNext('15');},
		'15'    : function(){noclass(); execute('15'); schedNext('CPTA');},
		'A'     : function(){assign('A',vars.a); assign('B',vars.b); assign('C',vars.c); schedNext('12');},
		'B'     : null,
		'C'     : null,
		'S'     : function(){assign('S',vars.s); schedNext('13');},
		'SminA' : function(){assign('SminA',vars.s-vars.a); schedNext('SminB');},
		'SminB' : function(){assign('SminB',vars.s-vars.b); schedNext('SminC');},
		'SminC' : function(){assign('SminC',vars.s-vars.c); schedNext('Area');},
		'Area'  : function(){assign('Area',vars.triArea); schedNext('14');},

		'Button'  : function(){act.clear(idents); hide(); click('Button','Click'); schedNext('1');},
		'Div'     : function(){display('Div','Display',vars.Area); schedNext('4');},
		'Click'   : null,
		'Display' : null,
		'End'     : function(){noclass(); hide(); reset();}
	},
	{
		base : 8,
		height : 7,
		edge : 0,
		Area : 0,
		a : 0,
		b : 0,
		c : 0,
		s : 0,
		triArea : 0
	}),
new act.Anim('ch9invest', 'Button',
	{
		'1'  : function(){noclass(); hide(); execute('1'); schedNext('2');},
		'2'  : function(){noclass(); execute('2'); schedNext('5');},
		'CP' : function(){noclass(); execute('CP'); schedNext('M');},
		'3'  : function(){noclass(); execute('3'); schedNext('Div');},
		'4'  : function(){noclass(); hide(); execute('4'); schedNext('End');},
		'M'  : function(){assign('M',vars.month); schedNext('3');},

		'5'  : function(){noclass(); execute('5'); schedNext('Princ');},
		'6'  : function(){noclass(); execute('6'); vars.monthlyRate=vars.annualRate/12; schedNext('MR');},
		'7'  : function(){noclass(); execute('7'); vars.balance=vars.principal; schedNext('Bal');},
		'8'  : function(){noclass(); execute('8'); vars.month=0; schedNext('Month');},
		'9'  : function(){noclass(); execute('9'); schedNext(vars.balance<vars.target?'10':'14');},
		'10' : function(){noclass(); execute('10'); vars.interest=parseFloat((vars.balance*vars.monthlyRate).toFixed(2)); schedNext('Int');},
		'11' : function(){noclass(); execute('11'); vars.balance+=vars.interest; schedNext('Bal');},
		'12' : function(){noclass(); execute('12'); vars.month++; schedNext('Month');},
		'13' : function(){noclass(); execute('13'); schedNext('9');},
		'14' : function(){noclass(); execute('14'); schedNext('15');},
		'15' : function(){noclass(); execute('15'); schedNext('CP');},
		'Princ' : function(){assign('Princ',vars.principal); assign('AR',vars.annualRate); assign('Targ',vars.target); schedNext('6');},
		'AR'    : null,
		'Targ'  : null,
		'MR'    : function(){assign('MR',vars.monthlyRate); schedNext('7');},
		'Bal'   : function(){assign('Bal',parseFloat(vars.balance.toFixed(2))); schedNext(vars.balance==vars.principal?'8':'12');},
		'Month' : function(){assign('Month',vars.month); schedNext(vars.month==0?'9':'13');},
		'Int'   : function(){assign('Int',vars.interest); schedNext('11');},

		'Button'  : function(){act.clear(idents); hide(); click('Button','Click'); schedNext('1');},
		'Div'     : function(){display('Div','Display',vars.month); schedNext('4');},
		'Click'   : null,
		'Display' : null,
		'End'     : function(){noclass(); hide(); reset();}
	},
	{
		principal : 100,
		annualRate : 0.06,
		target : 103,
		monthlyRate : 0,
		interest : 0,
		balance : 0,
		month : 0
	}),
new act.Anim('ch9gcd', 'Button',
	{
		'1'     : function(){noclass(); hide(); execute('1'); schedNext('2');},
		'2'     : function(){vars.x=-24; noclass(); execute('2'); schedNext('X');},
		'3'     : function(){vars.y=472; noclass(); execute('3'); schedNext('Y');},
		'4'     : function(){noclass(); execute('4'); schedNext('7');},
		'CPGCD' : function(){vars.divisor=vars.a; noclass(); execute('CPGCD'); schedNext('Divisor');},
		'5'     : function(){noclass(); execute('5'); schedNext('Div');},
		'6'     : function(){noclass(); hide(); execute('6'); schedNext('End');},
		'X'     : function(){assign('X',vars.x); schedNext('3');},
		'Y'     : function(){assign('Y',vars.y); schedNext('4');},
		'Divisor' : function(){assign('Divisor',vars.divisor); schedNext('5');},

		'7'    : function(){vars.pc=7; vars.a=vars.x; vars.b=vars.y; noclass(); execute('7'); schedNext('A');},
		'8'    : function(){vars.pc++; vars.a=Math.abs(vars.a); noclass(); execute('8'); schedNext('A');},
		'9'    : function(){vars.pc++; vars.b=Math.abs(vars.b); noclass(); execute('9'); schedNext('B');},
		'10'   : function(){vars.pc++; noclass(); execute('10'); schedNext(vars.a<vars.b?'11':'15');},
		'11'   : function(){vars.pc++; vars.swap=vars.a; noclass(); execute('11'); schedNext('Swap');},
		'12'   : function(){vars.pc++; vars.a=vars.b; noclass(); execute('12'); schedNext('A');},
		'13'   : function(){vars.pc++; vars.b=vars.swap; noclass(); execute('13'); schedNext('B');},
		'14'   : function(){noclass(); execute('14'); schedNext('15');},
		'15'   : function(){vars.pc=15; noclass(); execute('15'); schedNext('16');},
		'16'   : function(){vars.pc++; vars.r=vars.a%vars.b; noclass(); execute('16'); schedNext('R');},
		'17'   : function(){vars.pc++; vars.a=vars.b; noclass(); execute('17'); schedNext('A');},
		'18'   : function(){vars.pc++; vars.b=vars.r; noclass(); execute('18'); schedNext('B');},
		'19'   : function(){vars.pc++; noclass(); execute('19'); schedNext(vars.b!=0?'15':'20');},
		'20'   : function(){noclass(); execute('20'); schedNext('21');},
		'21'   : function(){noclass(); execute('21'); schedNext('CPGCD');},
		'R'    : function(){assign('R',vars.r); schedNext('17');},
		'A'    : function(){assign('A',vars.a); if(vars.pc==7){assign('B',vars.b);} schedNext(''+(vars.pc+1));},
		'B'    : function(){assign('B',vars.b); schedNext(''+(vars.pc+1));},
		'Swap' : function(){assign('Swap',vars.swap); schedNext('12');},

		'Button'  : function(){act.clear(idents); hide(); click('Button','Click'); schedNext('1');},
		'Div'     : function(){display('Div','Display',vars.divisor); schedNext('6');},
		'Click'   : null,
		'Display' : null,
		'End'     : function(){noclass(); hide(); reset();}
	},
	{
		pc : 0,
		x : 0,
		y : 0,
		divisor : 0,
		a : 0,
		b : 0,
		swap : 0,
		r : 0
	})
		]);
		act.prepare();
	}
};
